# 一、.What
Vuex 是一个专为Vue.js应用程序开发的 **状态管理模式**，它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化，Vuex也集成到Vue的官方调试工具devtools extension，提供了诸如零配置的time-travel调试，状态快照导入导出等高级调试功能。
## 1.什么是“状态管理模式”？
    以一个Vue计数为例：
```javascript
    new Vue({
        // state
        data() {
            return {
                count: 0
            }
        },
        // View
        template: `<div>{{count}}</div>`,
        // actions
        methods: {
            increment(){
                this.count ++
            }
        }
    })
```
这个状态自管理应用包含以下几个部分：
- state，驱动应用的数据源
- view，以声明方式将state映射到视图
- actions，响应在view上的用户输入导致的状态变化

> 单向数据流即view到actions到state到view的这么一个圈

但是当应用遇到多个组件共享状态时，单向数据流的简洁性很容易被破坏
- 多个视图依赖于同一状态，
- 来自不同视图的行为需要变更同一状态

对于问题一，传参的方法对于多层嵌套的组件将会非常繁琐，并且对于兄弟组件间的状态传递无能为力，对于问题二，经常会采用父子组件直接引用或者通过事件来变更和同步状态的多份拷贝，以上的这些模式非常脆弱，通常会导致无法维护的代码。

所以，可以通过把组件的的共享状态抽取出来，以一个全局单例模式管理，在这种模式下，组件树构成了一个巨大的视图，不管在树的哪个位置，任何组件都能获取状态或者触发行为。另外，通过定义和隔离状态管理中的各种概念并强制遵守一定的规则，代码将会变得更结构化且易维护。

Vue借鉴了flux、redux和the elm architecture。利用vuejs的细粒度数据响应机制来进行高效的状态更新。

![图片](vuex.png)

## 2.when
虽然vuex可以帮助管理共享状态，但也附带了更多的概念和框架。这需要对短期和长期效益进行权衡。
如果不打算开发大型单页应用，使用vuex可能是繁琐冗余的。如果应用比较简单，就不要用这个了，简单的store模式就足够了。
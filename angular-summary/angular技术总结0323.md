#Day26
## 八、单例应用
### 1.提供单例服务
  那些在定义模块时创建的注入器将会有一些服务，这些服务对于该注入器来说都是单例的，要控制这些服务的生命周期，其实就是控制注入器的创建和销毁，比如路由定义中就可以有一个关联模块，当激活该路由时，就会给那个模块创建一个新注入器，并将其作为当前注入器的子注入器。当离开该路由时，这个新注入器也就被销毁了，这也意味着在这个模块中声明的那些服务也随之销毁了，它们的生命周期与该路由完全相同。类似的，在应用模块中提供的那些服务的生命周期也等同于该应用，因此是单例的。
  下面的例子模块习惯上叫做CoreModule。@NgModule用来创建结构良好的基础设施，让人能够在一个指定的模块中提供服务：
```typescript
import {UserService} from './user.service';
/* 自己的代码 */
@NgModule({
/* 自己的代码 */
  providers:    [UserService]
})
export class CoreModule {
/* 自己的代码 */
}
```
  这里的CoreModule提供了UserService，并且由于AppModule导入了CoreModule，所以CoreModule中提供的任何服务也能在整个应用中使用，因为它是注入器的根节点，它还是单例的，因为在该应用运行期间，该注入器的生命周期等同于AppModule的。
  Angular使用应用的根注入器注册了UserService，不过随着应用的成长，可能还会出现其它组件和服务，比如列表框模态框啥的。要想保持应用的良好结构，就要考虑使用诸如CoreModule这样的模块，这样的方式简化了根模块AppModule，让它只要指挥全局就行，不必什么事都自己做。那现在可以把这些服务注入到需要它们的各个组件里面了，从Angular模块的角度来看，只需要把这些服务定义在一个@NgModule中。作为一个通用的规则，应该只导入一次带提供商的模块，最好在应用的根模块里面。
### 2.forRoot()
  
























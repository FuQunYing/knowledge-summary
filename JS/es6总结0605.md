# Day29
## 十九、Class的继承
### 1.简介
  Class 可以通过extends关键字实现继承，这比 ES5 的通过修改原型链实现继承，要清晰和方便很多：
```javascript
class Point {
}
class ColorPoint extends Point {
}
//ColorPoint类通过extends关键字，继承了Point类的所有属性和方法。但是由于没有部署任何代码，所以这两个类完全一样，等于复制了一个Point类。然后在ColorPoint内部加上代码。
class ColorPoint extends Point {
  constructor(x, y, color) {
    super(x, y); // 调用父类的constructor(x, y)
    this.color = color;
  }
  toString() {
    return this.color + ' ' + super.toString(); // 调用父类的toString()
  }
}
//constructor方法和toString方法之中，都出现了super关键字，它在这里表示父类的构造函数，用来新建父类的this对象。
```
  子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类自己的this对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，加上子类自己的实例属性和方法。如果不调用super方法，子类就得不到this对象。
```javascript
class Point {....}
class ColorPoint extends Point {
  constructor() {
  }
}
let cp = new ColorPoint(); // ReferenceError
//ColorPoint继承了父类Point，但是它的构造函数没有调用super方法，导致新建实例时报错。
```
  ES5 的继承，实质是先创造子类的实例对象this，然后再将父类的方法添加到this上面（Parent.apply(this)）。ES6 的继承机制完全不同，实质是先创造父类的实例对象this（所以必须先调用super方法），然后再用子类的构造函数修改this。如果子类没有定义constructor方法，这个方法会被默认添加，代码如下。也就是说，不管有没有显式定义，任何一个子类都有constructor方法。
```javascript
class ColorPoint extends Point {
}
//相当于
class ColorPoint extends Point {
  constructor(...args) {
    super(...args);
  }
}
```
  另一个需要注意的地方是，在子类的构造函数中，只有调用super之后，才可以使用this关键字，否则会报错。这是因为子类实例的构建，是基于对父类实例加工，只有super方法才能返回父类实例。
```javascript
class Point {
  constructor(x, y) {
    this.x = x;
    this.y = y;
  }
}
class ColorPoint extends Point {
  constructor(x, y, color) {
    this.color = color; // ReferenceError,super之前报错
    super(x, y);
    this.color = color; // 正确，super之后正确
  }
}
```
  下面是生成子类实例的代码。
```javascript
let cp = new ColorPoint(25, 8, 'green');//实例对象cp同时是ColorPoint和Point两个类的实例
cp instanceof ColorPoint // true
cp instanceof Point // true

//最后，父类的静态方法，也会被子类继承:
class A {
  static hello() {
    console.log('hello world');
  }
}
class B extends A {
}
B.hello()  // hello world,上面代码中，hello()是A类的静态方法，B继承A，也继承了A的静态方法。
```
### 2.Object.getPrototypeOf()
  这个方法可以用来从子类上获取父类：
```javascript
Object.getPropertyOf(ColorPoint)===Point//true，因此可以使用这个方法判断，一个类是否继承了另一个类
```
### 3.super关键字
  super这个关键字，既可以当做函数使用，也可以当做对象使用，在这两种情况下，用法完全不同






















